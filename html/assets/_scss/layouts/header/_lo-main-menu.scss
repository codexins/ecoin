/**
 * Layout header/ Main Menu
 *
 */

 .menu-wrapper {
 	background: $cx-offset-color;
 }

.main-menu {
	float: left;
	margin-bottom: 0;
	padding-left: 0;
	& > li {
		padding: 15px 0;
		& > a {
		    color: $cx-text-color;
		    &:focus,
		    &:hover {
				color: $cx-primary-color;
		    }
		}
	}

	li {
	    float: left;
	    margin-right: 30px;
	    position: relative;
	    list-style-type: none;
	    @extend %cx-transition;

	    @include respond-to(notebook) {
	    	margin-left: 25px;
	    }

	    a {
	    	position: relative;
		    display: inline-block;
		    text-transform: uppercase;
		    font-size: 14px;
		    letter-spacing: 1px;
		    span {
		    	margin-left: 5px;
		    }
	    }

	    ul {
		    background: lighten($cx-tertiary-color, 10%);
		    //border: 1px solid lighten($cx-tertiary-color, 10%);
		    float: none;
		    left: 0;
		    opacity: 0;
		    padding: 0;
		    position: absolute;
		    text-align: left;
		    top:100%;
		    visibility: hidden;
		    width:220px;
		    transform: scale(.9);
		    z-index:2;
		    @extend %cx-transition;
		    li {
			    display: block;
			    float: none;
			    margin: 0;
			    a {
			    	display: block;
			    	text-transform: capitalize;
			    	padding: 8px 15px;
			    	color: lighten($cx-text-color, 100%);
			    	span {
		    		    position: absolute;
					    right: 10px;
					    transform: rotate(-90deg);
			    	}
			    	&:focus,
			    	&:hover {
			    		background: $cx-primary-color;
			    	} 
			    }

			    ul {
			    	background: lighten($cx-tertiary-color, 12%);
					left: 100%;
				    opacity: 0;
				    position: absolute;
				    top: 0;
				    transform: scale(0.9);
				    visibility: hidden;
				    box-shadow: 0 0 1px rgba(0,0,0,.35);
				    ul {
				    	background: lighten($cx-tertiary-color, 14%);
				    	ul {
				    		background: lighten($cx-tertiary-color, 16%);
				    	}
				    }
			    }

		    }
	    }

	    &:hover {
	    	& > ul {
    		    opacity: 1;
				transform: scale(1);
				visibility: visible;
	    	}
	    }
	}

	@include media-only(notebook, max) {
		display: none;
	}
}

.menu-wrapper {
	.search-bar {
		float: right;
		input {
			margin-bottom: 0;
			height: 40px;
		}
	}

	.primary-nav {
		@include flex-center(space-between, center);
	}


}

.search-bar {
	form {
		position: relative;
		input[type="submit"] {
			position: absolute;
			right:0;
			top:0;
			background: transparent;
			border:0;
			@extend %color-text;

		}
	}
}


.no-flexbox {
	.menu-wrapper {
		.primary-nav {
			display: block;
			.search-bar {
				margin-top: 8px;
			}
		}
	}
}